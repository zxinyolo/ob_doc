### Mysql,MongoDB,PostgresSQL Json数据存储与查询对比

#### json数据存储能力

| 特性     | MySQL                   | MongoDB                 | PostgreSQL             |
| -------- | ----------------------- | ----------------------- | ---------------------- |
| 存储类型 | json                    | 二进制json              | jsonb                  |
| 数据格式 | 纯文本josn              | 二进制格式              | 二进制格式             |
| 可变结构 | 支持,查询和索引能力有限 | 原生支持,可变结构数据库 | josnb高效支持,可变结构 |
| 压缩     | 无                      | 内置压缩                | jsonb较优压缩能力      |

- MongoDB和PostgreSQL都是以二进制的格式存储json数据,性能优
- mysql虽然支持json字段,但是是以文本的形式存储,性能查



#### json查询能力



| 查询类型 | MySQL                                         | MongoDB          | PostgreSQL                            |
| -------- | --------------------------------------------- | ---------------- | ------------------------------------- |
| 基本查询 | JSON_EXTRACT() 解析                           | 原生 JSON 访问   | ->、->> 访问 JSON 数据                |
| 复杂查询 | 有限,需要结合LIke                             | 支持嵌套查询     | jsonb_path_query(), jsonb_each()      |
| 索引支持 | 仅支持索引完整Json字段,不支持部分索引         | 可创建二级索引   | GIN索引支持jsonb内部字段              |
| 过滤查询 | WHERE JSON_EXTRACT(json_col, '$.key') = value | { field: value } | WHERE jsonb_col @> '{"key": "value"}' |

